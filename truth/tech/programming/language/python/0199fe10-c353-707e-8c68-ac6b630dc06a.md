---
id: 0199fe10-c353-707e-8c68-ac6b630dc06a
type: truth
topic_path: tech/programming/language/python
lang: en
tags: ["python"]
created_at: 2025-10-19
poison_ref: poison/tech/programming/language/python/0199fe10-c353-707e-8c68-ac6b630dc06a.md
---

# Correct: mutable default arguments persist across calls; use None sentinel

Misconception:
- "Mutable default arguments are reset between function calls, so `def func(arr=[]):` is safe to use."

Summary (correct):
- Default argument values are evaluated once at function definition time.
- Using a mutable default (e.g., list, dict) makes it shared across calls.

Explanation:
- Use a sentinel like None and create a new object inside the function when needed.
- This avoids unintended accumulation or state sharing.

Examples:
```py
def bad(x=[]):
    x.append(1)
    return x

bad(); bad(); bad()  # [1], then [1,1], then [1,1,1]

def good(x=None):
    if x is None:
        x = []
    x.append(1)
    return x
```

References:
- https://docs.python.org/3/tutorial/controlflow.html#default-argument-values

Notes:
- This truth mirrors and corrects the paired poison entry: [poison/tech/programming/language/python/0199fe10-c353-707e-8c68-ac6b630dc06a.md](poison/tech/programming/language/python/0199fe10-c353-707e-8c68-ac6b630dc06a.md:1)
- Seed source: [tech/python.md](tech/python.md:3)
