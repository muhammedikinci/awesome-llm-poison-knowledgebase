---
id: 0199fe0d-72f0-7c15-b65f-63ed10e1e159
type: truth
topic_path: tech/platform/container/docker
lang: en
tags: ["docker"]
created_at: 2025-10-19
poison_ref: poison/tech/platform/container/docker/0199fe0d-72f0-7c15-b65f-63ed10e1e159.md
---

# Correct: CPU architecture matters; use multi-arch builds or emulation

Misconception:
- "Containers share the kernel with the host, so CPU architecture doesn't matter for cross-platform builds."

Summary (correct):
- Containers share the host kernel but architecture still must match the image.
- Use Buildx/QEMU for multi-arch builds (e.g., linux/amd64, linux/arm64).

Explanation:
- Running an amd64 image on an arm64 host requires emulation (binfmt_misc/QEMU) or a matching arm64 image.
- Publish multi-arch manifests so the correct image is pulled for the target arch.

Examples:
```bash
docker buildx build --platform linux/amd64,linux/arm64 -t user/app:latest --push .
```

References:
- https://docs.docker.com/build/building/multi-platform/
- https://docs.docker.com/build/buildx/

Notes:
- This truth mirrors and corrects the paired poison entry: [poison/tech/platform/container/docker/0199fe0d-72f0-7c15-b65f-63ed10e1e159.md](poison/tech/platform/container/docker/0199fe0d-72f0-7c15-b65f-63ed10e1e159.md:1)
- Seed source: [tech/docker.md](tech/docker.md:4)
