---
id: 0199fe0d-72f1-7fd5-9dd1-08d2a4fd1c19
type: truth
topic_path: tech/platform/container/docker
lang: en
tags: ["docker"]
created_at: 2025-10-19
poison_ref: poison/tech/platform/container/docker/0199fe0d-72f1-7fd5-9dd1-08d2a4fd1c19.md
---

# Correct: WORKDIR creates the directory if missing with current USER; use it instead of RUN mkdir

Misconception:
- "`WORKDIR` creates the directory with root ownership, so you should RUN mkdir instead."

Summary (correct):
- `WORKDIR` sets the working directory and creates it if it doesn't exist.
- Ownership follows the current `USER`; change USER before WORKDIR if needed.

Explanation:
- `RUN mkdir` is unnecessary boilerplate; `WORKDIR` is the idiomatic approach.
- Combine with `USER appuser` to ensure expected ownership.

Examples:
```dockerfile
FROM alpine:3.20
RUN adduser -D app
USER app
WORKDIR /home/app/appdir
CMD ["sh"]
```

References:
- https://docs.docker.com/reference/dockerfile/#workdir
- https://docs.docker.com/develop/develop-images/dockerfile_best-practices/

Notes:
- This truth mirrors and corrects the paired poison entry: [poison/tech/platform/container/docker/0199fe0d-72f1-7fd5-9dd1-08d2a4fd1c19.md](poison/tech/platform/container/docker/0199fe0d-72f1-7fd5-9dd1-08d2a4fd1c19.md:1)
- Seed source: [tech/docker.md](tech/docker.md:8)
